use linreg::linear_regression;

pub fn american_population() -> i32 {
    let years: Vec<f64> = vec![
        1979.0, 1980.0, 1981.0, 1982.0, 1983.0, 1984.0, 1985.0, 1986.0, 1987.0, 1988.0, 1989.0,
        1990.0, 1991.0, 1992.0, 1993.0, 1994.0, 1995.0, 1996.0, 1997.0, 1998.0, 1999.0, 2000.0,
        2001.0, 2002.0, 2003.0, 2004.0, 2005.0, 2006.0, 2007.0, 2008.0, 2009.0, 2010.0, 2011.0,
        2012.0, 2013.0, 2014.0, 2015.0, 2016.0, 2017.0, 2018.0,
    ];
    let population_data: Vec<f64> = vec![
        225_055_000.0,
        227_225_000.0,
        229_466_000.0,
        231_664_000.0,
        233_792_000.0,
        235_825_000.0,
        237_924_000.0,
        240_133_000.0,
        242_289_000.0,
        244_499_000.0,
        246_819_000.0,
        249_623_000.0,
        252_981_000.0,
        256_514_000.0,
        259_919_000.0,
        263_126_000.0,
        266_278_000.0,
        269_394_000.0,
        272_657_000.0,
        275_854_000.0,
        279_040_000.0,
        282_162_411.0,
        284_968_955.0,
        287_625_193.0,
        290_107_933.0,
        292_805_298.0,
        295_516_599.0,
        298_379_912.0,
        301_231_207.0,
        304_093_966.0,
        306_771_529.0,
        309_338_421.0,
        311_644_280.0,
        313_993_272.0,
        316_234_505.0,
        318_622_525.0,
        321_039_839.0,
        323_405_935.0,
        325_719_178.0,
        327_960_817.0,
    ];
    match linear_regression::<f64, f64, f64>(&years, &population_data) {
        Ok((b, a)) => {
            println!(
                "2019 {} 2020 {} 2021 {} 2022 {} 2023 {}",
                (a + 2019.0 * b) as i32,
                (a + 2020.0 * b) as i32,
                (a + 2021.0 * b) as i32,
                (a + 2022.0 * b) as i32,
                (a + 2023.0 * b) as i32,
            );
            return 1 as i32;
        }
        Err(err) => {
            println!("{}", err);
            return 1 as i32;
        }
    }
}
